{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/15229/Desktop/YCMusic/App.vue?a07c","uni-app:///App.vue","webpack:///C:/Users/15229/Desktop/YCMusic/App.vue?c963","webpack:///C:/Users/15229/Desktop/YCMusic/App.vue?fa10"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","use","personalModal","config","productionTip","component","MusicController","TopBar","MusicList","NavBar","prototype","$dealCount","dealCount","$dealAuthor","dealAuthor","$song","songExceptLyric","$level","level","$timeFormate","timeFormatting","$transTime","transTime","save","res","songs","detail","name","al","picUrl","ar","store","dispatch","JSON","stringify","id","url","$songSave","Promise","resolve","then","songSave","getLyric","lrc","lyric","result","arr","split","forEach","item","index","time","value","newTime","substr","length","m","Number","substring","indexOf","s","ms","realTime","push","$lyric","$store","audioContext","uni","createInnerAudioContext","getBackgroundAudioManager","autoplay","state","music","audio","src","palyStatus","play","pause","onCanplay","duration","songId","onTimeUpdate","currentTime","lyricIndex","totalWidth","totalTime","percent","seekStatus","isSeeking","i","onPlay","onPause","onEnded","way","loopStatus","list","musicList","currentSongIndex","Math","floor","random","$audio","checkLogin","token","user","$checkLogin","App","mpType","app","$mount"],"mappings":";;;;;;;;;yKAAA,wCAA8E;;;;AAI9E;AACA;;AAEA;;;AAGA;;;AAGA,qE,0uDAbmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,C;;AAenBC,aAAIC,GAAJ,CAAQC,cAAR;;AAEAF,aAAIG,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAJ,aAAIK,SAAJ,CAAc,iBAAd,EAAgCC,eAAhC;AACAN,aAAIK,SAAJ,CAAc,QAAd,EAAuBE,MAAvB;AACAP,aAAIK,SAAJ,CAAc,WAAd,EAA0BG,SAA1B;AACAR,aAAIK,SAAJ,CAAc,QAAd,EAAuBI,MAAvB;;AAEAT,aAAIU,SAAJ,CAAcC,UAAd,GAA2BC,gBAA3B;AACAZ,aAAIU,SAAJ,CAAcG,WAAd,GAA4BC,iBAA5B;AACAd,aAAIU,SAAJ,CAAcK,KAAd,GAAsBC,oBAAtB;AACAhB,aAAIU,SAAJ,CAAcO,MAAd,GAAuBC,YAAvB;AACAlB,aAAIU,SAAJ,CAAcS,YAAd,GAA6BC,qBAA7B;AACApB,aAAIU,SAAJ,CAAcW,UAAd,GAA2BC,gBAA3B;;AAEA,SAASC,IAAT,CAAcC,GAAd,EAAkB;;AAEjB,MAAIC,KAAK,GAAG;AACX,YAAOD,GAAG,CAACE,MAAJ,CAAWC,IADP;AAEX,cAASH,GAAG,CAACE,MAAJ,CAAWE,EAAX,CAAcC,MAFZ;AAGX,cAAS,uBAAWL,GAAG,CAACE,MAAJ,CAAWI,EAAtB,EAAyB,MAAzB,CAHE,EAAZ;;AAKAC,iBAAMC,QAAN,CAAe,OAAf,EAAuBC,IAAI,CAACC,SAAL,CAAeT,KAAf,CAAvB;AACAM,iBAAMC,QAAN,CAAe,IAAf,EAAoBR,GAAG,CAACE,MAAJ,CAAWS,EAA/B;AACAJ,iBAAMC,QAAN,CAAe,OAAf,EAAuBR,GAAG,CAACY,GAA3B;AACA;;;AAGDpC,aAAIU,SAAJ,CAAc2B,SAAd,uGAA0B,iBAAyBF,EAAzB;AAClB,gBAAIG,OAAJ,CAAY,UAAAC,OAAO,EAAE;AAC3B,wCAAgBJ,EAAhB,EAAoBK,IAApB,CAAyB,UAAAhB,GAAG,EAAE;;AAE7BD,oBAAI,CAACC,GAAD,CAAJ;AACAe,uBAAO,CAAC,IAAD,CAAP;;AAEA,eALD;;AAOA,aARM,CADkB,0DAA1B,YAAyCE,QAAzC,sDAAyCA,QAAzC;;;;AAaA,SAASC,QAAT,CAAkBP,EAAlB,EAAqB;;AAEpB;AACA,kBAAMA,EAAN,EAAUK,IAAV,CAAe,UAAAhB,GAAG,EAAE;;AAEnB,QAAGA,GAAG,CAACmB,GAAJ,CAAQC,KAAX,EAAiB;AAChB,UAAIC,MAAM,GAAG,EAAb;AACA,UAAIC,GAAG,GAAGtB,GAAG,CAACmB,GAAJ,CAAQC,KAAR,CAAcG,KAAd,CAAoB,IAApB,CAAV;;AAEAD,SAAG,CAACE,OAAJ,CAAY,UAACC,IAAD,EAAMC,KAAN,EAAc;;AAEzB,YAAIC,IAAI,GAAGF,IAAI,CAACF,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAX;AACA,YAAIK,KAAK,GAAGH,IAAI,CAACF,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAZ;;AAEA;AACA,YAAIM,OAAO,GAAGF,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAcH,IAAI,CAACI,MAAL,GAAa,CAA3B,CAAd;AACA,YAAIC,CAAC,GAAGC,MAAM,CAACJ,OAAO,CAACK,SAAR,CAAkB,CAAlB,EAAoBL,OAAO,CAACM,OAAR,CAAgB,GAAhB,CAApB,CAAD,CAAN,GAAkD,EAA1D;AACA,YAAIC,CAAC,GAAGH,MAAM,CAACJ,OAAO,CAACK,SAAR,CAAkBL,OAAO,CAACM,OAAR,CAAgB,GAAhB,IAAqB,CAAvC,EAAyCN,OAAO,CAACM,OAAR,CAAgB,GAAhB,CAAzC,CAAD,CAAd;AACA,YAAIE,EAAE,GAAGR,OAAO,CAACK,SAAR,CAAkBL,OAAO,CAACM,OAAR,CAAgB,GAAhB,CAAlB,EAAuCN,OAAO,CAACE,MAA/C,CAAT;AACA,YAAIO,QAAQ,GAAGL,MAAM,CAACD,CAAC,GAAGI,CAAJ,GAAQC,EAAT,CAArB;;AAEAhB,cAAM,CAACkB,IAAP,CAAY;AACX,kBAAOD,QADI;AAEX,mBAAQV,KAFG;AAGX,wBAAa,MAAKF,KAHP,EAAZ;;;AAMAnB,uBAAMC,QAAN,CAAe,OAAf,EAAuBC,IAAI,CAACC,SAAL,CAAeW,MAAf,CAAvB;AACA,OAnBD;AAoBA;AACD,GA3BD;AA4BA;;;AAGD7C,aAAIU,SAAJ,CAAcsD,MAAd,GAAuBtB,QAAvB;;AAEA1C,aAAIU,SAAJ,CAAcuD,MAAd,GAAuBlC,cAAvB;;AAEA,IAAImC,YAAY,GAAGC,GAAG,CAACC,uBAAJ,MAAiCD,GAAG,CAACE,yBAAJ,EAApD;;;AAGAH,YAAY,CAACI,QAAb,GAAwB,IAAxB;;AAEA,IAAGvC,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBC,KAArB,EAA2B;AAC1BP,cAAY,CAACQ,GAAb,GAAmB3C,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBC,KAArC;AACA,MAAG1C,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBG,UAArB,EAAgC;AAC/BT,gBAAY,CAACU,IAAb;AACA,GAFD;AAGI;AACHV,gBAAY,CAACW,KAAb;AACA;AACD;;AAEDX,YAAY,CAACY,SAAb,CAAuB,YAAI;AAC1B/C,iBAAMC,QAAN,CAAe,WAAf,EAA2BkC,YAAY,CAACa,QAAxC;;AAEA;AACA,MAAG,CAAChD,eAAMwC,KAAN,CAAYC,KAAZ,CAAkB5B,KAAlB,CAAwBW,MAA5B,EAAmC;AAClCb,YAAQ,CAACX,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBQ,MAAnB,CAAR;AACA;;AAED,CARD;;AAUAd,YAAY,CAACe,YAAb,CAA0B,YAAI;;AAE7BlD,iBAAMC,QAAN,CAAe,aAAf,EAA6BkC,YAAY,CAACgB,WAA1C;AACA,MAAI/B,IAAI,GAAGe,YAAY,CAACgB,WAAxB;AACA,MAAItC,KAAK,GAAGb,eAAMwC,KAAN,CAAYC,KAAZ,CAAkB5B,KAA9B;AACA,MAAIM,KAAK,GAAGnB,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBW,UAA9B;;AAEA,MAAGvC,KAAK,CAACM,KAAD,CAAR,EAAgB;AACf,QAAGC,IAAI,IAAIP,KAAK,CAACM,KAAD,CAAL,CAAaC,IAAxB,EAA6B;AAC5B;AACApB,qBAAMC,QAAN,CAAe,iBAAf,EAAiC,CAAjC;AACA;AACD;;AAED,MAAIoD,UAAU,GAAGrD,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBY,UAAnC;AACA,MAAIC,SAAS,GAAGnB,YAAY,CAACa,QAA7B;AACA,MAAIO,OAAO,GAAGnC,IAAI,GAACkC,SAAnB;AACA,MAAIE,UAAU,GAAGxD,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBgB,SAAnC;AACAzD,iBAAMC,QAAN,CAAe,sBAAf,EAAsCC,IAAI,CAACC,SAAL,CAAe;AACpD,gBAAW,WAAWkD,UAAU,GAACE,OAAtB,GAA+B,IADU;AAEpD,WAAM,UAAUF,UAAU,GAACE,OAArB,GAA8B,IAFgB,EAAf,CAAtC;;;AAKA;AACA,MAAG,CAACC,UAAJ,EAAe;AACd;AACAxD,mBAAMC,QAAN,CAAe,UAAf,EAA0BsD,OAAO,GAAC,GAAlC;AACA,SAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,KAAK,CAACW,MAA1B,EAAkCkC,CAAC,EAAnC,EAAuC;AACtC,UAAGA,CAAC,GAAG7C,KAAK,CAACW,MAAN,GAAc,CAArB,EAAuB;AACtB,YAAGJ,IAAI,GAAGP,KAAK,CAAC6C,CAAD,CAAL,CAAS,MAAT,CAAP,IAA2BtC,IAAI,GAAGP,KAAK,CAAC6C,CAAC,GAAG,CAAL,CAAL,CAAa,MAAb,CAArC,EAA0D;AACzD1D,yBAAMC,QAAN,CAAe,eAAf,EAAgCyD,CAAC,GAAG,CAApC;;AAEA;;AAED;AACD;;;AAGD;;AAED,CAxCD;;AA0CAvB,YAAY,CAACwB,MAAb,CAAoB,YAAI;AACvB3D,iBAAMC,QAAN,CAAe,kBAAf,EAAkC,IAAlC;;AAEA,CAHD;;AAKAkC,YAAY,CAACyB,OAAb,CAAqB,YAAI;AACxB5D,iBAAMC,QAAN,CAAe,kBAAf,EAAkC,KAAlC;AACA,CAFD;;AAIAkC,YAAY,CAAC0B,OAAb,CAAqB,YAAI;AACxB;AACA;AACA,MAAIC,GAAG,GAAG9D,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBsB,UAA5B;AACA,MAAId,MAAM,GAAGjD,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBQ,MAA/B;AACA,MAAIe,IAAI,GAAGhE,eAAMwC,KAAN,CAAYC,KAAZ,CAAkBwB,SAA7B;AACA,MAAI9C,KAAK,GAAGnB,eAAMwC,KAAN,CAAYC,KAAZ,CAAkByB,gBAA9B;;AAEA/B,cAAY,CAACQ,GAAb,GAAmB,EAAnB;AACA;AACA,MAAGmB,GAAG,KAAK,IAAX,EAAgB;AACf3C,SAAK,IAAG,CAAR;AACA,QAAGA,KAAK,IAAI6C,IAAI,CAACxC,MAAjB,EAAwB;AACvBL,WAAK,GAAG,CAAR;AACA;AACD;AACD;AANA,OAOK,IAAG2C,GAAG,KAAK,IAAX,EAAgB;AACpB3C,WAAK,GAAGgD,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAcL,IAAI,CAACxC,MAA9B,CAAR;AACA;AACD;AAHK,SAIA,IAAGsC,GAAG,KAAK,IAAX,EAAgB;AACpB3C,aAAK,GAAGA,KAAR;AACA;;AAED,4BAAgBO,MAAM,CAACsC,IAAI,CAAC7C,KAAD,CAAJ,CAAYf,EAAb,CAAtB,EAAwCK,IAAxC,CAA6C,UAAAhB,GAAG,EAAE;AACjDD,QAAI,CAACC,GAAD,CAAJ;AACAO,mBAAMC,QAAN,CAAe,OAAf,EAAuBkB,KAAvB;AACA,GAHD;AAIA;AACA,CA9BD;;AAgCAlD,aAAIU,SAAJ,CAAc2F,MAAd,GAAuBnC,YAAvB;;AAEA;AACA,SAASoC,UAAT,GAAqB;AACpB,MAAIC,KAAK,GAAGxE,eAAMwC,KAAN,CAAYiC,IAAZ,CAAiBD,KAA7B;;AAEA,MAAGA,KAAH,EAAS;AACR,WAAO,IAAP;AACA,GAFD;AAGI;AACH,WAAO,KAAP;AACA;AACD;AACDvG,aAAIU,SAAJ,CAAc+F,WAAd,GAA4BH,UAA5B;;AAEAI,aAAIC,MAAJ,GAAa,KAAb;AACA,IAAMC,GAAG,GAAG,IAAI5G,YAAJ;AACL0G,YADK;AAEV3E,OAAK,EAALA,cAFU,IAAZ;;AAIA,UAAA6E,GAAG,EAACC,MAAJ,G;;;;;;;;;;;;;;;;;;;;AC9NA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AAC8M;AAC9M,gBAAgB,sNAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAA0yB,CAAgB,0zBAAG,EAAC,C;;;;;;;;;;;;ACC9zB,wD;AACA;AACA;;AAEA,GAHA;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCADA;AAEA,0BAFA;AAGA,sBAHA;;AAKA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KALA;AAMA,GA7BA;AA8BA;;AAEA,GAhCA,E;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAA8oC,CAAgB,ioCAAG,EAAC,C;;;;;;;;;;ACAlqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"common/main.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import App from './App'\r\nimport MusicController from 'components/MusicController/MusicController.vue'\r\nimport TopBar from '@/components/TopBar/TopBar.vue'\r\nimport NavBar from '@/components/NavBar/NavBar.vue'\r\nimport { dealCount , dealAuthor , throttle , level, timeFormatting ,transTime} from '@/utils/utils.js'\r\nimport { songExceptLyric , lyric} from '@/common/api.js'\r\nimport MusicList from '@/components/MusicList/MusicList.vue'\r\nimport store from './store'\r\n// import audio from 'common/audio.js'\r\n\r\nimport personalModal from '@/components/PersonalModal/modal.js'\r\n\r\n\r\nimport Vue from 'vue'\r\n\r\nVue.use(personalModal)\r\n\r\nVue.config.productionTip = false\r\nVue.component('MusicController',MusicController)\r\nVue.component('TopBar',TopBar)\r\nVue.component('MusicList',MusicList)\r\nVue.component('NavBar',NavBar)\r\n\r\nVue.prototype.$dealCount = dealCount\r\nVue.prototype.$dealAuthor = dealAuthor\r\nVue.prototype.$song = songExceptLyric\r\nVue.prototype.$level = level\r\nVue.prototype.$timeFormate = timeFormatting\r\nVue.prototype.$transTime = transTime\r\n\r\nfunction save(res){\r\n\t\r\n\tlet songs = {\r\n\t\t'name':res.detail.name,\r\n\t\t'picUrl':res.detail.al.picUrl,\r\n\t\t'author':dealAuthor(res.detail.ar,'name')\r\n\t}\r\n\tstore.dispatch('songs',JSON.stringify(songs))\r\n\tstore.dispatch('id',res.detail.id)\r\n\tstore.dispatch('audio',res.url)\r\n}\r\n\r\n\r\nVue.prototype.$songSave = async function songSave (id){\r\n\treturn new Promise(resolve=>{\r\n\t\tsongExceptLyric(id).then(res=>{\r\n\t\t\t\r\n\t\t\tsave(res)\r\n\t\t\tresolve(true)\r\n\t\t\t\r\n\t\t})\r\n\t\t\r\n\t})\r\n\t\r\n}\r\n\r\nfunction getLyric(id){\r\n\t\r\n\t//获取歌词\r\n\tlyric(id).then(res=>{\r\n\t\r\n\t\tif(res.lrc.lyric){\r\n\t\t\tlet result = []\r\n\t\t\tlet arr = res.lrc.lyric.split('\\n')\r\n\t\t\t\r\n\t\t\tarr.forEach((item,index)=>{\r\n\t\t\t\t\r\n\t\t\t\tlet time = item.split(']')[0]\r\n\t\t\t\tlet value = item.split(']')[1]\r\n\t\t\t\t\r\n\t\t\t\t//将时间转换成秒，精确到毫秒\r\n\t\t\t\tlet newTime = time.substr(1,time.length -1)\r\n\t\t\t\tlet m = Number(newTime.substring(0,newTime.indexOf(':')))*60\r\n\t\t\t\tlet s = Number(newTime.substring(newTime.indexOf(':')+1,newTime.indexOf('.')))\r\n\t\t\t\tlet ms = newTime.substring(newTime.indexOf('.'),newTime.length)\r\n\t\t\t\tlet realTime = Number(m + s + ms)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\tresult.push({\r\n\t\t\t\t\t'time':realTime,\r\n\t\t\t\t\t'lyric':value,\r\n\t\t\t\t\t'lyricIndex':'t'+ index\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\tstore.dispatch('lyric',JSON.stringify(result))\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n}\r\n\r\n\r\nVue.prototype.$lyric = getLyric\r\n\r\nVue.prototype.$store = store\r\n\r\nlet audioContext = uni.createInnerAudioContext() || uni.getBackgroundAudioManager()\r\n\r\n\r\naudioContext.autoplay = true\r\n\r\nif(store.state.music.audio){\r\n\taudioContext.src = store.state.music.audio\r\n\tif(store.state.music.palyStatus){\r\n\t\taudioContext.play()\r\n\t}\r\n\telse{\r\n\t\taudioContext.pause()\r\n\t}\r\n}\r\n\r\naudioContext.onCanplay(()=>{\r\n\tstore.dispatch('totalTime',audioContext.duration)\r\n\t\r\n\t//音乐在可播放时就获取歌词数据\r\n\tif(!store.state.music.lyric.length){\r\n\t\tgetLyric(store.state.music.songId)\r\n\t}\r\n\t\r\n})\r\n\r\naudioContext.onTimeUpdate(()=>{\r\n\r\n\tstore.dispatch('currentTime',audioContext.currentTime)\r\n\tlet time = audioContext.currentTime\r\n\tlet lyric = store.state.music.lyric\r\n\tlet index = store.state.music.lyricIndex\r\n\t\r\n\tif(lyric[index]){\r\n\t\tif(time >= lyric[index].time){\r\n\t\t\t//向vuex分发事件（让歌词滚动组件的滚动索引-8）\r\n\t\t\tstore.dispatch('reduceIntoIndex',8)\r\n\t\t}\r\n\t} \r\n\t\r\n\tlet totalWidth = store.state.music.totalWidth\r\n\tlet totalTime = audioContext.duration\r\n\tlet percent = time/totalTime\r\n\tlet seekStatus = store.state.music.isSeeking\r\n\tstore.dispatch('changeProAndDotStyle',JSON.stringify({\r\n\t\t'progress':'width:' + totalWidth*percent +'px',\r\n\t\t'dot':'left:' + totalWidth*percent +'px'\r\n\t}))\r\n\t\r\n\t//改变进度条的值之前需判断进度条是否还在被拖动状态，若是在拖动状态就不随着音乐进度改变，只有在进度条脱离拖动状态下改变\r\n\tif(!seekStatus){\r\n\t\t//结束拖动，修改进度条的值\r\n\t\tstore.dispatch('progress',percent*100)\r\n\t\tfor (var i = 0; i < lyric.length; i++) {\r\n\t\t\tif(i < lyric.length -1){\r\n\t\t\t\tif(time > lyric[i]['time'] && time < lyric[i + 1]['time']){\r\n\t\t\t\t\tstore.dispatch('addLyricIndex', i + 1)\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t  \r\n\t\t\r\n\t}\r\n\t\r\n})\r\n\r\naudioContext.onPlay(()=>{\r\n\tstore.dispatch('changePlayStatus',true)\r\n\t\r\n})\r\n\r\naudioContext.onPause(()=>{\r\n\tstore.dispatch('changePlayStatus',false)\r\n})\r\n\r\naudioContext.onEnded(()=>{\r\n\t//console.log('音乐自然播放到结束')\r\n\t//判断用户当前选择的歌曲循环方式，通过循环方式来决定是按照列表顺序循环，还是单曲循环，亦或是列表随机播放\r\n\tlet way = store.state.music.loopStatus\r\n\tlet songId = store.state.music.songId\r\n\tlet list = store.state.music.musicList\r\n\tlet index = store.state.music.currentSongIndex\r\n\t\r\n\taudioContext.src = ''\r\n\t//列表循环\r\n\tif(way === 'll'){\r\n\t\tindex +=1 \r\n\t\tif(index >= list.length){\r\n\t\t\tindex = 0\r\n\t\t}\r\n\t}\r\n\t//列表随机\r\n\telse if(way === 'rl'){\r\n\t\tindex = Math.floor(Math.random()*list.length)\r\n\t}\r\n\t//单曲循环\r\n\telse if(way === 'sl'){\r\n\t\tindex = index\r\n\t}\r\n\t\r\n\tsongExceptLyric(Number(list[index].id)).then(res=>{\r\n\t\tsave(res)\r\n\t\tstore.dispatch('index',index)\r\n\t})\r\n\t//audioContext.src = list[index]\r\n})\r\n\r\nVue.prototype.$audio = audioContext\r\n\r\n//判断vuex中是否有token，有则表示用户已登录\r\nfunction checkLogin(){\r\n\tlet token = store.state.user.token\r\n\t\r\n\tif(token){\r\n\t\treturn true\r\n\t}\r\n\telse{\r\n\t\treturn false\r\n\t}\r\n}\r\nVue.prototype.$checkLogin = checkLogin\r\n\r\nApp.mpType = 'app'\r\nconst app = new Vue({\r\n    ...App,\r\n\t\tstore\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport { loginStatus } from 'common/api.js'\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\t\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\t//获取浏览器存储的音乐数据，查看有没有设置歌曲循环方式，若没有，则给定默认的列表循环方式\r\n\t\t\t\r\n\t\t\tif(!uni.getStorageSync('loop_status')){\r\n\t\t\t\tuni.setStorageSync('loop_status','ll')\r\n\t\t\t\tuni.setStorageSync('loopCount',0)\r\n\t\t\t\tuni.setStorageSync('loop','controller-list_loop')\r\n\t\t\t\tthis.$store.dispatch('changeLoopWay',JSON.stringify({\r\n\t\t\t\t\t'loop':'controller-list_loop',\r\n\t\t\t\t\t'loopStatus':'ll',\r\n\t\t\t\t\t'loopCount':0\r\n\t\t\t\t}))\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!uni.getStorageSync('FM_status')){\r\n\t\t\t\tuni.setStorageSync('FM_status',false)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//查看用户是否登录，未登录状态时就把之前登录过的信息清除\r\n\t\t\tloginStatus().then(res=>{\r\n\t\t\t\tif(!res.data.profile){\r\n\t\t\t\t\tuni.removeStorageSync('cookie')\r\n\t\t\t\t\tuni.removeStorageSync('token')\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*每个页面公共css */\r\n\tbody,.maxWidth{\r\n\t\tmargin: 0 auto;\r\n\t\tmax-width: 500px;\r\n\t}\r\n\t\r\n\t/* #ifdef H5 */\r\n\tuni-scroll-view .uni-scroll-view::-webkit-scrollbar {\r\n\t/* 隐藏滚动条，但依旧具备可以滚动的功能 */\r\n\tdisplay: none;\r\n\twidth: 0 !important;\r\n\theight: 0 !important;\r\n\t-webkit-appearance: none;\r\n\tbackground: transparent;\r\n\tcolor: transparent;\r\n\t}\r\n\t/* #endif */\r\n\t.bottom-control{\r\n\t\tposition: fixed;\r\n\t\tleft: 50%;\r\n\t\tbottom:50px;\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\tmax-width: 500px;\r\n\t\tbackground-color: #ffffff;\r\n\t\ttransform: translateX(-50%);\r\n\t\tbox-shadow: 0 0 2px 2px #C0C0C0;\r\n\t}\r\n\t.scroll-v{\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t.filter{\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop: 0;\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 100vh;\r\n\t\tfilter: blur(50px);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: cover;\r\n\t}\r\n\t.cover{\r\n\t\tbackground-color: rgba(0, 0, 0, .3);\r\n\t}\r\n\t.control{\r\n\t\tposition: absolute;\r\n\t\tbottom: 5vh;\r\n\t\twidth: 100%;\r\n\t\tz-index: 1000;\r\n\t}\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.bottom-control{\r\n\t\tbottom: 0;\r\n\t}\r\n\t/*  #endif  */\r\n\t.scroll-v{\r\n\t\theight: calc(100vh - 100px);\r\n\t}\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.scroll-v{\r\n\t\theight: calc(100vh - 70px);\r\n\t}\r\n\t.swiper-item-scroll{\r\n\t\theight: calc(100vh - 125px);\r\n\t}\r\n\t/* #endif */\r\n\t.title{\r\n\t\tdisplay: inline-block;\r\n\t\tpadding: 20px 0 10px;\r\n\t\tfont-weight: bolder;\r\n\t}\r\n\t.sheet-box{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\theight: 100%;\r\n\t}\r\n\t.scroll{\r\n\t\theight: 200px;\r\n\t}\r\n\t.sheet-item{\r\n\t\tposition: relative;\r\n\t\tmargin: 0 5px;\r\n\t\twidth: 140px;\r\n\t\theight: 200px;\r\n\t\tfont-size: 13px;\r\n\t\t\r\n\t\tborder-radius: 6px;\r\n\t\t\r\n\t\ttext-align: center;\r\n\t\t\r\n\t}\r\n\t.swiper{\r\n\t\twidth: 140px;\r\n\t\theight: 140px;\r\n\t}\r\n\t.image{\r\n\t\twidth: 140px;\r\n\t\theight: 140px;\r\n\t\tborder-radius: 6px;\r\n\t}\r\n\t.mask{\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\ttop:0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 140px;\r\n\t\theight: 140px;\r\n\t\ttext-align: right;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t.main-title{\r\n\t\tdisplay: -webkit-box;\r\n\t\tmargin: 10px 0;\r\n\t\twidth: 100%;\r\n\t\ttext-align: left;\r\n\t\twhite-space: pre-wrap;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tword-wrap: break-word;\r\n\t\tword-break: break-all;\r\n\t\tline-clamp: 2;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\toverflow: hidden;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\t.play-count::before{\r\n\t\tdisplay: block;\r\n\t\tborder: 5px solid #fff;\r\n\t}\r\n\t.play-icon{\r\n\t\tfont-size: 20px;\r\n\t}\r\n\t.music-list{\r\n\t\tposition: fixed;\r\n\t\ttop:0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(0,0,0,.5);\r\n\t\tz-index: 1000;\r\n\t}\r\n\t.charactor{\r\n\t\tpadding-left: 5px;\r\n\t\tpadding-right: 5px;\r\n\t\tcolor: #B5B5B5;\r\n\t}\r\n\t.avatar{\r\n\t\twidth: 36px;\r\n\t\theight: 36px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\t.song-author{\r\n\t\tcolor: #B5B5B5;\r\n\t}\r\n\t.empty{\r\n\t\tposition: relative;\r\n\t\ttop:10%;\r\n\t\tcolor: #b6b6b6;\r\n\t}\r\n\t.tag{\r\n\t\tdisplay: inline-block;\r\n\t\ttransform-origin: 0;\r\n\t}\r\n\t.vip,.tag{\r\n\t\t\r\n\t\ttransform: scale(.7);\r\n\t}\r\n\t\r\n</style>\r\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668595686204\n      var cssReload = require(\"D:/HBuilder/HBuilderX.2.8.3.20200728.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}