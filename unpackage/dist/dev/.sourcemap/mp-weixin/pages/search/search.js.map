{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/15229/Desktop/YCMusic/pages/search/search.vue?1c4b","webpack:///C:/Users/15229/Desktop/YCMusic/pages/search/search.vue?aaa6","webpack:///C:/Users/15229/Desktop/YCMusic/pages/search/search.vue?d0b3","webpack:///C:/Users/15229/Desktop/YCMusic/pages/search/search.vue?8921","uni-app:///pages/search/search.vue","webpack:///C:/Users/15229/Desktop/YCMusic/pages/search/search.vue?cccc","webpack:///C:/Users/15229/Desktop/YCMusic/pages/search/search.vue?0fb8"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gG,6FAFmBA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC;AAGnBC,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC8M;AAC9M,gBAAgB,sNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6yB,CAAgB,6zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiGj0B;AACA;AACA,uE;;;;;;;AAOA;AACA,sCADA;AAEA;AACA,oBADA;AAEA,0BAFA;AAGA,gBAHA;AAIA,gBAJA;AAKA,kBALA,EAFA;;AASA,MATA,kBASA;AACA;AACA,wBADA;AAEA,8BAFA;AAGA,uBAHA;AAIA,mBAJA;AAKA,qBALA;AAMA,gBANA;AAOA,iBAPA;AAQA,yBARA;AASA,iBATA;AAUA,sBAVA;AAWA,gBAXA;AAYA,mBAZA;AAaA,gBAbA;AAcA,eAdA;AAeA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EADA;;AAMA;AACA,oBADA;AAEA,iBAFA;AAGA,oBAHA,EANA;;AAWA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EAXA;;AAgBA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EAhBA;;AAqBA;AACA,oBADA;AAEA,mBAFA;AAGA,oBAHA,EArBA;;AA0BA;AACA,oBADA;AAEA,kBAFA;AAGA,oBAHA,EA1BA;;AA+BA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EA/BA;;AAoCA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EApCA;;AAyCA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EAzCA;;AA8CA;AACA,oBADA;AAEA,oBAFA;AAGA,oBAHA,EA9CA;;AAmDA;AACA,oBADA;AAEA,oBAFA;AAGA,qBAHA,EAnDA,CAfA;;;;AAyEA,GAnFA;AAoFA;AACA,cADA,sBACA,CADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA;AAOA,QAPA,kBAOA;AACA;AACA,KATA;AAUA,eAVA,yBAUA;AACA;AACA;AACA;AACA;AACA,KAfA;AAgBA,mBAhBA,6BAgBA;AACA;AACA,oBADA;AAEA,8BAFA;AAGA;;AAEA,8DAFA;AAGA,uCAHA,yIAHA;;;;AAUA,KA3BA;AA4BA,WA5BA,qBA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eARA;AASA;AACA;;AAEA,SAhBA;AAiBA,OAlBA;AAmBA;AACA;AACA;AACA,KAnDA;AAoDA,UApDA,kBAoDA,IApDA,EAoDA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA,WAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAlCA;AAmCA,KAnGA;AAoGA,gBApGA,0BAoGA;AACA;AACA;AACA;AACA;;AAEA,OALA;AAMA,KA3GA;AA4GA;AACA,gBA7GA,wBA6GA,IA7GA,EA6GA,KA7GA,EA6GA;AACA;AACA;AACA;AACA;AACA;AACA,KAnHA;AAoHA;AACA,SArHA,mBAqHA;AACA;AACA;AACA;AACA,KAzHA;AA0HA;AACA,QA3HA,sBA2HA;AACA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA,OAHA;AAIA;AACA;AACA;AACA;AACA,KA5IA,EApFA;;AAkOA,QAlOA,kBAkOA,OAlOA,EAkOA;AACA;AACA;AACA;AACA,GAtOA,E;;;;;;;;;;;;;AC1GA;AAAA;AAAA;AAAA;AAAohD,CAAgB,w+CAAG,EAAC,C;;;;;;;;;;;ACAxiD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=4cedc0c6&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=4cedc0c6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cedc0c6\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/search/search.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=template&id=4cedc0c6&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"search-container\">\r\n\t\t<!-- 导航栏 -->\n\t\t<view class=\"nav\">\r\n\t\t\t<view class=\"back-box\">\r\n\t\t\t\t<text class=\"iconfont musicleftArrow\" @tap=\"back\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"input-box\">\r\n\t\t\t\t<text class=\"iconfont musicsearch\"></text>\r\n\t\t\t\t<input ref=\"input\" type=\"text\" class=\"input\" @focus=\"focus\" @input=\"suggest\" v-model=\"searchKeyword\" :placeholder=\"keyword\"/>\r\n\t\t\t\t<text v-show=\"searchKeyword\" class=\"iconfont musicclose\" @tap=\"closeResult\"></text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"search-b\">\r\n\t\t\t\t<button class=\"mini-btn search\" type=\"default\" size=\"mini\" @tap=\"search(searchKeyword)\">搜索</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<scroll-view scroll-y=\"true\" class=\"scroll-v\"  :style=\"scrollHeight\">\r\n\t\t\t<!-- 搜索历史 -->\r\n\t\t\t<view class=\"search-history\" v-if=\"history.length\">\r\n\t\t\t\t<view class=\"history-top\">\r\n\t\t\t\t\t<text class=\"title\">历史</text>\r\n\t\t\t\t\t<text class=\"iconfont musicdelete\" @tap=\"clearAllHistory\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"history-bottom\">\r\n\t\t\t\t\t<text @tap=\"search(item)\" class=\"his-item\" v-for=\"(item,index) in history\" :key=\"index\">{{item}}</text>\r\n\t\t\t\t\t<!-- <text class=\"arrow iconfont musicleftArrow\"></text> -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 热搜榜 -->\r\n\t\t\t<view class=\"hot-search\">\r\n\t\t\t\t<text class=\"title\">热搜榜</text>\r\n\t\t\t\t<view class=\"hot-item\" v-for=\"(item,index) in hotSearch\" :key=\"index\">\r\n\t\t\t\t\t<text class=\"rank\" :class=\"{'rank-active':index === 0 || index === 1 || index === 2 }\">{{index + 1}}</text>\r\n\t\t\t\t\t<text class=\"hot-keyword\" @tap=\"search(item.searchWord)\" :class=\"{'word-active':index === 0 || index === 1 || index === 2 }\">{{item.searchWord}}</text>\r\n\t\t\t\t\t<image class=\"icon\" :src=\"item.iconUrl\" v-if=\"item.iconUrl\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 搜索建议结果 -->\r\n\t\t<view class=\"suggest-result\" v-if=\"suggestResult.length\">\r\n\t\t\t<view class=\"result-item\" v-for=\"(item,index) in suggestResult\" :key=\"index\" @tap=\"search(item.keyword)\">\r\n\t\t\t\t<text class=\"iconfont musicsearch\"></text>\r\n\t\t\t\t<view class=\"keyword-box\">\r\n\t\t\t\t\t<text v-if=\"item.match\" class=\"match\">{{item.match}}</text>\r\n\t\t\t\t\t<text v-if=\"item.lastMatch\" class=\"last-match\">{{item.lastMatch}}</text>\r\n\t\t\t\t\t<text v-if=\"!item.match && !item.lastMatch\">{{item.keyword}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 搜索结果展示 -->\r\n\t\t<scroll-view scroll-y=\"true\" class=\"scroll-v search-result\" v-if=\"isShowResult\">\r\n\t\t\t<view class=\"scroll-menu\">\r\n\t\t\t\t<scroll-view scroll-x=\"true\" class=\"scroll-x\" scroll-left=\"0\" :scroll-into-view=\"into\" scroll-with-animation=\"true\">\r\n\t\t\t\t\t<view class=\"menu-box\">\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in menu\" :key=\"index\" class=\"menu-item\" :id=\"item.into\">\r\n\t\t\t\t\t\t\t<text class=\"menu-text\" @tap=\"searchByType(item.type,index)\">{{item.text}}</text>\r\n\t\t\t\t\t\t\t<text v-show=\"currentIndex===index\" :class=\"{'menu-active':currentIndex===index}\"></text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<swiper class=\"scroll-x summary-scroll\" :indicator-dots=\"false\" :autoplay=\"false\"  :duration=\"300\" @change=\"changeItem\" :current=\"currentIndex\">\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<Summary :song=\"summary.song\"\r\n\t\t\t\t\t\t:playList=\"summary.playList\" \r\n\t\t\t\t\t\t:word=\"searchKeyword\" \r\n\t\t\t\t\t\t:artist=\"summary.artist\"\r\n\t\t\t\t\t\t:sim=\"summary.sim_query\"\r\n\t\t\t\t\t\t:album=\"summary.album\"\r\n\t\t\t\t\t\tclass=\"component-item\"\r\n\t\t\t\t\t\t></Summary>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<single-song :data=\"single\" :type=\"searchType\" @more=\"more\" :word=\"searchKeyword\" class=\"component-item\"></single-song>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<Sheet :data=\"songSheet\" :type=\"searchType\" @more=\"more\" :word=\"searchKeyword\"  class=\"component-item\"></Sheet>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<Video :data=\"video\" :type=\"searchType\" @more=\"more\" :word=\"searchKeyword\"  class=\"component-item\"></Video>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t\t<swiper-item>\r\n\t\t\t\t\t\t<Songer :data=\"songer\" :type=\"searchType\" @more=\"more\" :word=\"searchKeyword\"  class=\"component-item\"></Songer>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<!-- 底部音乐控制 -->\r\n\t\t<view class=\"bottom-control\" v-show=\"isShowBottomControl\" >\r\n\t\t\t<music-controller ></music-controller>\r\n\t\t</view>\r\n\t\t<view v-if=\"isShowMusicList\">\r\n\t\t\t<music-list></music-list>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport '@/common/iconfont.css'\r\n\timport { searchSuggest , hotSearch,summarySearch} from '@/common/api.js'\r\n\timport { bottomControlMixin } from '@/common/mixins/mixins.js'\r\n\timport Summary from './components/Summary.vue'\r\n\timport SingleSong from './components/SingleSong.vue'\r\n\timport Sheet from './components/Sheet.vue'\r\n\timport Video from './components/Video.vue'\r\n\timport Songer from './components/Songer.vue'\r\n\t\r\n\texport default {\r\n\t\tmixins:[bottomControlMixin],\r\n\t\tcomponents:{\r\n\t\t\tSummary,\r\n\t\t\tSingleSong,\r\n\t\t\tSheet,\r\n\t\t\tVideo,\r\n\t\t\tSonger\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tkeyword:undefined,\r\n\t\t\t\tsearchKeyword:undefined,\r\n\t\t\t\tsuggestResult:[],\r\n\t\t\t\thotSearch:[],\r\n\t\t\t\tcurrentIndex:0,\r\n\t\t\t\tinto:'t0',\r\n\t\t\t\tsummary:{},\r\n\t\t\t\tisShowResult:false,\r\n\t\t\t\thistory:[],\r\n\t\t\t\tsearchType:1018,\r\n\t\t\t\tsingle:{},\r\n\t\t\t\tsongSheet:{},\r\n\t\t\t\tsonger:{},\r\n\t\t\t\tvideo:{},\r\n\t\t\t\tmenu:[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'综合',\r\n\t\t\t\t\t'type':1018,\r\n\t\t\t\t\t'into':'t0'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'单曲',\r\n\t\t\t\t\t'type':1,\r\n\t\t\t\t\t'into':'t1'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'歌单',\r\n\t\t\t\t\t'type':1000,\r\n\t\t\t\t\t'into':'t2'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'视频',\r\n\t\t\t\t\t'type':1014,\r\n\t\t\t\t\t'into':'t3'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'歌手',\r\n\t\t\t\t\t'type':100,\r\n\t\t\t\t\t'into':'t4'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'专辑',\r\n\t\t\t\t\t'type':10,\r\n\t\t\t\t\t'into':'t5'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'用户',\r\n\t\t\t\t\t'type':1002,\r\n\t\t\t\t\t'into':'t6'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'MV',\r\n\t\t\t\t\t'type':1004,\r\n\t\t\t\t\t'into':'t7'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'声音',\r\n\t\t\t\t\t'type':2000,\r\n\t\t\t\t\t'into':'t8'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'电台',\r\n\t\t\t\t\t'type':1009,\r\n\t\t\t\t\t'into':'t9'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t'text':'歌词',\r\n\t\t\t\t\t'type':1006,\r\n\t\t\t\t\t'into':'t10'\r\n\t\t\t\t\t}\r\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tmethods: {\r\n\t\t\tchangeItem(e){\r\n\t\t\t\tthis.into = 't' + e.detail.current\r\n\t\t\t\tthis.currentIndex = e.detail.current\r\n\t\t\t\tthis.searchType = this.menu[e.detail.current].type\r\n\t\t\t\tthis.search()\r\n\t\t\t},\n\t\t\tback(){\r\n\t\t\t\tuni.navigateBack()\r\n\t\t\t},\r\n\t\t\tcloseResult(){\r\n\t\t\t\t//点×关闭结果页\r\n\t\t\t\tthis.isShowResult = false\r\n\t\t\t\tthis.searchKeyword = undefined\r\n\t\t\t\tthis.suggestResult = []\r\n\t\t\t},\r\n\t\t\tclearAllHistory(){\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle:'提示：',\r\n\t\t\t\t\tcontent:'确定清空全部历史记录?',\r\n\t\t\t\t\tsuccess:async () =>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tawait\tuni.setStorageSync('search_history',[])\r\n\t\t\t\t\t\tthis.history = []\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t \r\n\t\t\t},\r\n\t\t\tsuggest(){\r\n\t\t\t\tif(this.searchKeyword){\r\n\t\t\t\t\tsearchSuggest(this.searchKeyword).then(res=>{\r\n\t\t\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\t\t\tthis.suggestResult = res.result.allMatch\r\n\t\t\t\t\t\t\tif(this.suggestResult){\r\n\t\t\t\t\t\t\t\tthis.suggestResult.map(item=>{\r\n\t\t\t\t\t\t\t\t\t//处理得到的结果，将搜索词与结果进行比对，匹配的和不匹配的分开\r\n\t\t\t\t\t\t\t\t\tif(item.keyword.indexOf(this.searchKeyword) !== -1){\r\n\t\t\t\t\t\t\t\t\t\tlet match = item.keyword.substring(item.keyword.indexOf(this.searchKeyword),this.searchKeyword.length)\r\n\t\t\t\t\t\t\t\t\t\tlet lastMatch = item.keyword.substr(item.keyword.indexOf(this.searchKeyword)+this.searchKeyword.length)\r\n\t\t\t\t\t\t\t\t\t\titem.match = match\r\n\t\t\t\t\t\t\t\t\t\titem.lastMatch = lastMatch\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.suggestResult = []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsearch(word){\r\n\t\t\t\tif(!word){\r\n\t\t\t\t\tthis.searchKeyword = this.keyword\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.searchKeyword = word\r\n\t\t\t\t\tthis.keyword = this.searchKeyword\r\n\t\t\t\t}\r\n\t\t\t\tthis.suggestResult = []\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'加载中...'\r\n\t\t\t\t})\r\n\t\t\t\tsummarySearch(this.searchKeyword,this.searchType).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\t\tif(this.searchType === 1018){\r\n\t\t\t\t\t\t\tthis.summary = {}\r\n\t\t\t\t\t\t\tthis.summary = res.result\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (this.searchType === 1){\r\n\t\t\t\t\t\t\tthis.single = {}\r\n\t\t\t\t\t\t\tthis.single = res.result\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(this.searchType === 1000){\r\n\t\t\t\t\t\t\tthis.songSheet = {}\r\n\t\t\t\t\t\t\tthis.songSheet = res.result\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(this.searchType === 1014){\r\n\t\t\t\t\t\t\tthis.video = {}\r\n\t\t\t\t\t\t\tthis.video = res.result\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(this.searchType === 100){\r\n\t\t\t\t\t\t\tthis.songer = res.result\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.isShowResult = true\r\n\t\t\t\t\t\t//获取数据后，将搜索词加入到搜索历史中\r\n\t\t\t\t\t\t//1.先判断当前的搜索词是否已经在历史中，若存在则先删除，再将它放入历史首位\r\n\t\t\t\t\t\tlet index = this.history.indexOf(this.searchKeyword)\r\n\t\t\t\t\t\tif(index !== -1){\r\n\t\t\t\t\t\t\tthis.history.splice(index,1)\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.history.unshift(this.searchKeyword)\r\n\t\t\t\t\t\tuni.setStorageSync('search_history',this.history)\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetHotSearch(){\r\n\t\t\t\thotSearch().then(res=>{\r\n\t\t\t\t\tif(res.code === 200){\r\n\t\t\t\t\t\tthis.hotSearch = res.data\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//点击菜单选项，根据类型搜索\r\n\t\t\tsearchByType(type,index){\r\n\t\t\t\tthis.currentIndex = index\r\n\t\t\t\tthis.into = 't'+ (index-2)\r\n\t\t\t\tthis.searchType = type\r\n\t\t\t\tthis.search()\r\n\t\t\t\tconsole.log(type,this.searchKeyword)\r\n\t\t\t},\r\n\t\t\t//输入框聚焦时\r\n\t\t\tfocus(){\r\n\t\t\t\t//如果搜索结果正在展示就关闭展示\r\n\t\t\t\tthis.isShowResult?this.isShowResult = false:null\r\n\t\t\t\tthis.suggest()\r\n\t\t\t},\r\n\t\t\t//接收子组件发出的加载更多事件\r\n\t\t\tmore({type,data}){\r\n\t\t\t\tif(type === 1){\r\n\t\t\t\t\tthis.single.hasMore = data.hasMore\r\n\t\t\t\t\tthis.single.songs.push(...data.songs)\r\n\t\t\t\t}\r\n\t\t\t\telse if (type === 1000){\r\n\t\t\t\t\tthis.songSheet.hasMore = data.hasMore\r\n\t\t\t\t\tthis.songSheet.playlists.push(...data.playlists)\r\n\t\t\t\t}\r\n\t\t\t\telse if (type === 1014){\r\n\t\t\t\t\tthis.video.hasMore = data.hasMore\r\n\t\t\t\t\tthis.video.videos.push(...data.videos)\r\n\t\t\t\t}\r\n\t\t\t\telse if (type === 100){\r\n\t\t\t\t\tthis.songer.hasMore = data.hasMore\r\n\t\t\t\t\tthis.songer.artists.push(...data.artists)\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.keyword = options.keyword\r\n\t\t\tthis.getHotSearch()\r\n\t\t\tthis.history = uni.getStorageSync('search_history') || []\r\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\r\n\t.search-container{\r\n\t\tbackground-color: #f3f3f3;\r\n\t}\r\n\t\r\n.menu-active{\r\n\tposition: relative;\r\n\ttop:-16px;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 5px;\r\n\tborder-radius: 2.5px;\r\n\tbackground-color: #ff4548;\r\n\topacity: .5;\r\n}\r\n.rank-active{\r\n\tcolor: #ff4a62;\r\n\tfont-weight: bold;\r\n}\r\n.word-active{\r\n\tcolor: #000000;\r\n\tfont-weight: bold;\r\n}\r\n\n.nav{\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\theight: 50px;\r\n\ttext-align: center;\r\n\tbackground-color: #fff;\r\n\t.back-box,.search-b,.search{\r\n\t\twidth: 50px;\r\n\t\theight: 100%;\r\n\t\tline-height: 50px;\r\n\t}\r\n\t.input-box{\r\n\t\tposition: relative;\r\n\t\tmargin: 0 10px;\r\n\t\tflex:1;\r\n\t\t.input{\r\n\t\t\tmargin-left: 50%;\r\n\t\t\twidth: 90%;\r\n\t\t\theight: 30px;\r\n\t\t\tbackground-color: #efeeee;\r\n\t\t\tborder-radius: 18px;\r\n\t\t\ttransform: translateX(-50%);\r\n\t\t\ttext-align: left;\r\n\t\t\ttext-indent: 40px;\r\n\t\t}\r\n\t\t.musicsearch,.musicclose{\r\n\t\t\tposition: absolute;\r\n\t\t\t\r\n\t\t\tdisplay: inline-block;\r\n\t\t\theight: 100%;\r\n\t\t\tline-height: 30px;\r\n\t\t\tcolor: #B5B5B5;\r\n\t\t\tz-index: 999;\r\n\t\t}\r\n\t\t.musicsearch{\r\n\t\t\tleft:10%;\r\n\t\t}\r\n\t\t.musicclose{\r\n\t\t\ttop:0;\r\n\t\t\tright:10%;\r\n\t\t}\r\n\t}\r\n\t.search{\r\n\t\tpadding: 0;\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\t.search:after{\r\n\t\tborder: none;\r\n\t}\r\n}\r\n.result-item{\r\n\tdisplay: flex;\r\n\tjustify-content: flex-start;\r\n\talign-items: center;\r\n\tpadding: 0 20px;\r\n\t.keyword-box{\r\n\t\tmargin-left: 10px;\r\n\t\tpadding: 15px 0;\r\n\t\tflex: 1;\r\n\t\tborder-bottom: 1px solid #efe9e9;\r\n\t\t.match{\r\n\t\t\tcolor: #bababa;\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n.scroll-v{\r\n\theight: calc(100vh - 50px);\r\n}\r\n// 搜索历史\r\n.search-history{\r\n\tpadding: 10px;\r\n\t.history-top{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 10px 0;\r\n\t\t.title{\r\n\t\t\tpadding: 0;\r\n\t\t}\r\n\t\t.musicdelete{\r\n\t\t\tcolor: #bcbcbc;\r\n\t\t}\r\n\t}\r\n\t.history-bottom{\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t\t.his-item{\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t\tmargin-right: 10px;\r\n\t\t\tpadding: 5px 10px;\r\n\t\t\tborder-radius: 16px;\r\n\t\t\tcolor: #919191;\r\n\t\t\tfont-size: 12px;\r\n\t\t\tbackground-color: #fff;\r\n\t\t}\r\n\t\t// .arrow{\r\n\t\t// \tposition: relative;\r\n\t\t// \ttop:-5px;\r\n\t\t// \tpadding: 2px;\r\n\t\t// \tborder-radius: 50%;\r\n\t\t// \tbackground-color: #fff;\r\n\t\t// \ttransform: rotate(90deg);\r\n\t\t// }\r\n\t}\r\n}\r\n// 热搜榜\r\n.hot-search{\r\n\tmargin: 0 auto;\r\n\twidth: 92%;\r\n\tpadding: 0 5px;\r\n\tbackground-color: #fff;\r\n\tfont-size: 12px;\r\n\tborder-radius: 6px;\r\n\t.title{\r\n\t\tdisplay: block;\r\n\t\tpadding: 15px 0;\r\n\t\tborder-bottom: 1px solid #d0d0d0;\r\n\t}\r\n\t.hot-item{\r\n\t\tmargin-top: 20px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t\tcolor: #5d5d5d;\r\n\t\ttext-align: left;\r\n\t\t.rank{\r\n\t\t\twidth: 20px;\r\n\t\t}\r\n\t\t.hot-keyword{\r\n\t\t\tmargin-left: 10px;\r\n\t\t}\r\n\t\t.icon{\r\n\t\t\tmargin-left: 4px;\r\n\t\t\twidth: 20px;\r\n\t\t\theight: 14px;\r\n\t\t\tbackground-color: #f8cbd1;\r\n\t\t}\r\n\t}\r\n}\r\n//搜索建议展示\r\n.suggest-result{\r\n\tposition: absolute;\r\n\ttop:50px;\r\n\twidth: 100%;\r\n\theight: calc(100% - 50px);\r\n\tz-index: 999;\r\n\tbackground-color: #fff;\r\n}\r\n// 搜索结果展示部分（含有菜单）\r\n.search-result{\r\n\tposition: absolute;\r\n\ttop:50px;\r\n\tbackground-color: #efefef;\r\n\t\r\n\t.scroll-menu{\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 94%;\r\n\t}\r\n\t.scroll-x{\r\n\t\twidth: 100%;\r\n\t\twhite-space: nowrap;\r\n\t\t.menu-box{\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-start;\r\n\t\t\talign-items: center;\r\n\t\t\t\r\n\t\t\t.menu-item{\r\n\t\t\t\tmargin-right: 30px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tline-height: 40px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.summary-scroll{\r\n\t\theight: calc(100vh - 150px);\r\n\t}\r\n}\r\n\r\n.bottom-control{\r\n\tbottom:0;\r\n}\r\n// #ifdef MP-WEIXIN\r\n.nav{\r\n\theight: 80px;\r\n\tjustify-content: flex-start;\r\n\t.back-box,.search{\r\n\t\tline-height: 80px;\r\n\t}\r\n\t.input-box{\r\n\t\tmargin: 0;\r\n\t\tflex: .6;\r\n\t\t.input{\r\n\t\t\tmargin-left: 0;\r\n\t\t\t\r\n\t\t\ttransform: translateX(0);\r\n\t\t}\r\n\t}\r\n}\r\n.scroll-v{\r\n\theight: calc(100vh - 80px);\r\n}\r\n.search-result{\r\n\ttop:80px;\r\n}\r\n// #endif\r\n\n</style>\n","import mod from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&id=4cedc0c6&scoped=true&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilder\\\\HBuilderX.2.8.3.20200728.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./search.vue?vue&type=style&index=0&id=4cedc0c6&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1661942078362\n      var cssReload = require(\"D:/HBuilder/HBuilderX.2.8.3.20200728.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}